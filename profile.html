<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile | PrepMind AI</title>
    <link rel="stylesheet" href="theme-transitions.css">
    <link rel="stylesheet" href="theme-toggle.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="profile.css">
</head>

<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="brand">Prep<span>Mind</span> AI</div>
            <div class="nav-actions">
                <div id="themeToggle"></div>
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" id="userAvatar"></div>
                    <div class="user-dropdown">
                        <div class="dropdown-item" id="dashboardBtn">
                            <span class="dropdown-icon">üè†</span>
                            <span>Dashboard</span>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" id="logoutBtn">
                            <span class="dropdown-icon">üö™</span>
                            <span>Logout</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="background-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <main class="dashboard-container">
        <section class="profile-header">
            <div class="profile-header-content">

                <div class="profile-avatar-container">
                    <div class="profile-avatar-display" id="profileAvatarDisplay">
                    </div>

                    <button class="avatar-edit-badge" id="avatarUploadTrigger" aria-label="Change Profile Picture">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                            </path>
                            <circle cx="12" cy="13" r="4"></circle>
                        </svg>
                    </button>

                    <input type="file" id="profilePicInput" accept="image/*" hidden>
                </div>

                <div class="profile-header-info">
                    <h1 class="profile-name" id="profileName">Loading...</h1>
                    <p class="profile-email" id="profileEmail">...</p>
                    <div class="profile-badge" id="profileBadge">
                        <span class="badge-icon">üéØ</span>
                        <span class="badge-text" id="profileExamBadge">Student</span>
                    </div>
                </div>
            </div>
            <button class="btn-edit" id="editProfileBtn">
                <span class="edit-icon">‚úèÔ∏è</span>
                <span>Edit Profile</span>
            </button>
        </section>

        <section class="profile-section">
            <h2 class="section-title">Personal Information</h2>
            <div class="profile-view" id="profileView">
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Full Name</div>
                        <div class="info-value" id="viewFullName">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Email Address</div>
                        <div class="info-value" id="viewEmail">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Target Exam</div>
                        <div class="info-value" id="viewTargetExam">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Education Level</div>
                        <div class="info-value" id="viewEducationLevel">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Target Year</div>
                        <div class="info-value" id="viewTargetYear">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Daily Study Hours</div>
                        <div class="info-value" id="viewStudyHours">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Preferred Language</div>
                        <div class="info-value" id="viewPreferredLanguage">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Member Since</div>
                        <div class="info-value" id="viewMemberSince">-</div>
                    </div>
                </div>
            </div>

            <div class="profile-edit" id="profileEdit" style="display: none;">
                <div id="profileMessage" class="message"></div>
                <form id="profileEditForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="editFullName">Full Name</label>
                            <input type="text" id="editFullName" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editEmail">Email Address</label>
                            <input type="email" id="editEmail" class="form-input" disabled>
                            <small class="form-hint">Email cannot be changed</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editTargetExam">Target Exam</label>
                            <select id="editTargetExam" class="form-select" required>
                                <option value="JEE">JEE (Joint Entrance Examination)</option>
                                <option value="NEET">NEET (Medical Entrance)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editEducationLevel">Education Level</label>
                            <select id="editEducationLevel" class="form-select" required>
                                <option value="10th">10th Grade</option>
                                <option value="11th">11th Grade</option>
                                <option value="12th">12th Grade</option>
                                <option value="Graduate">Graduate</option>
                                <option value="Post-Graduate">Post-Graduate</option>
                                <option value="Working">Working Professional</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editTargetYear">Target Year</label>
                            <select id="editTargetYear" class="form-select" required>
                                <option value="2026">2026</option>
                                <option value="2027">2027</option>
                                <option value="2028">2028</option>
                                <option value="2029">2029</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editStudyHours">Daily Study Hours</label>
                            <select id="editStudyHours" class="form-select" required>
                                <option value="1-2">1-2 hours</option>
                                <option value="2-4">2-4 hours</option>
                                <option value="4-6">4-6 hours</option>
                                <option value="6+">6+ hours</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="editPreferredLanguage">Preferred Language</label>
                            <select id="editPreferredLanguage" class="form-select">
                                <option value="English">English</option>
                                <option value="Hindi">Hindi</option>
                                <option value="Both">Both</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-cancel" id="cancelEditBtn">Cancel</button>
                        <button type="submit" class="btn-save">Save Changes</button>
                    </div>
                </form>
            </div>
        </section>

        <section class="delete-section">
            <button class="btn-delete-trigger" id="initDeleteBtn">
                <div class="bin-illustration-wrapper">
                    <svg class="game-bin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" width="24"
                        height="24">
                        <g class="bin-trash-items">
                            <circle cx="18" cy="10" r="3" fill="#fbbf24" class="trash-item t1" />
                            <path d="M22 12l3-3l-2-2l-3 3z" fill="#ef4444" class="trash-item t2" />
                        </g>
                        <path class="bin-body" fill="#dc2626"
                            d="M7 9h22l-2.5 20a3 3 0 0 1-3 2.5h-11a3 3 0 0 1-3-2.5L7 9z" />
                        <path class="bin-body-shadow" fill="#991b1b" d="M9.5 29l-2.5-20h1l2 20h-0.5z" opacity="0.3" />
                        <path class="bin-stripes" fill="none" stroke="#b91c1c" stroke-width="2" stroke-linecap="round"
                            d="M12 14v12 M18 14v12 M24 14v12" />
                        <g class="bin-lid">
                            <path fill="#ef4444" d="M15 3h6v3h-6z" />
                            <path fill="#991b1b" d="M16 4h4v1h-4z" />
                            <path fill="#ef4444" d="M4 6h28c1.1 0 2 .9 2 2v1H2V8c0-1.1.9-2 2-2z" />
                            <path fill="#f87171" d="M4 6h28v1H4z" />
                        </g>
                    </svg>
                </div>
                <span class="delete-label">Delete Account</span>
            </button>
        </section>
    </main>

    <div id="deleteModal" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <div class="warning-icon-wrapper">‚ö†Ô∏è</div>
                <h3 class="modal-title">Delete Account?</h3>
            </div>
            <p class="modal-text">This action is <strong>permanent</strong>. You will lose all progress, test results,
                and saved notes.</p>
            <form id="deleteConfirmForm">
                <div class="form-group" id="passwordConfirmGroup">
                    <label class="form-label">To confirm, please enter your password:</label>
                    <input type="password" id="confirmPasswordInput" class="form-input danger-input"
                        placeholder="Your Password">
                </div>
                <div id="googleConfirmMessage"
                    style="display: none; margin-bottom: 20px; color: var(--text-secondary);">
                    <p>Click the button below to verify your identity with Google.</p>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-cancel-modal" id="cancelDeleteModal">Cancel</button>
                    <button type="submit" class="btn-confirm-delete">Yes, Delete Everything</button>
                </div>
            </form>
        </div>
    </div>

    <script src="theme.js"></script>
    <script type="module" src="profile.js"></script>
</body>

</html>